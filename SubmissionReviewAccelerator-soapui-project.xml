<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="a3212e63-04b3-4218-a56e-34a15892f80a" activeEnvironment="Default" name="SubmissionReviewAccelerator" resourceRoot="" soapui-version="5.3.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config">
  <con:settings/>
  <con:interface xsi:type="con:RestService" id="fa67d293-575e-4bf5-91a0-76e79a381b78" wadlVersion="http://wadl.dev.java.net/2009/02" name="http://praqa.ipm.ixxus.io" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache type="TEXT" rootPart=""/>
    <con:endpoints>
      <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
    </con:endpoints>
    <con:resource name="Auth" path="/auth" id="58c35b2f-6a1d-4688-9339-39071e210c0b">
      <con:settings/>
      <con:parameters>
        <con:parameter>
          <con:name>username</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
        <con:parameter>
          <con:name>password</con:name>
          <con:value/>
          <con:style>QUERY</con:style>
          <con:default/>
          <con:description xsi:nil="true"/>
        </con:parameter>
      </con:parameters>
      <con:method name="POST" id="7e4a3dd4-cad3-4e8c-8c1b-a6eab115be38" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>application/json;charset=UTF-8</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:element xmlns:auth="http://praqa.ipm.ixxus.io/auth">auth:Response</con:element>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
        </con:representation>
        <con:representation type="FAULT">
          <con:mediaType>application/json;charset=UTF-8</con:mediaType>
          <con:status>400</con:status>
          <con:params/>
          <con:element xmlns:auth="http://praqa.ipm.ixxus.io/auth">auth:Fault</con:element>
        </con:representation>
        <con:request name="Login using {username} and {password}" id="ecb81047-4eba-42b9-a11d-bfb889105f98" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
          <con:request>{
  "username": "${username}",
  "password": "${password}"
}</con:request>
          <con:originalUri>http://praqa.ipm.ixxus.io/auth</con:originalUri>
          <con:credentials>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:jmsPropertyConfig/>
          <con:parameters>
            <con:entry key="username" value="dana.marian@ixxus.com"/>
            <con:entry key="password" value="Marian123"/>
          </con:parameters>
          <con:parameterOrder>
            <con:entry>username</con:entry>
            <con:entry>password</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="API" path="/api" id="77b77d59-b68f-4594-b8f5-6a8e3922f223">
      <con:settings/>
      <con:parameters/>
      <con:resource name="User details" path="/user-details" id="c5ff48e6-0140-446d-b41d-c1bc565a4b04">
        <con:settings/>
        <con:parameters/>
        <con:method name="GET" id="f18ac6bd-6c66-470e-8f8a-a91894afec55" method="GET">
          <con:settings/>
          <con:parameters/>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>401</con:status>
            <con:params/>
            <con:element xmlns:user="http://praqa.ipm.ixxus.io/api/user-details">user:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element xmlns:user="http://praqa.ipm.ixxus.io/api/user-details">user:Response</con:element>
          </con:representation>
          <con:request name="User details" id="b28cf12b-b824-4ca3-b3cc-43b122635b92" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/user-details</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:request>
        </con:method>
      </con:resource>
      <con:resource name="Role details" path="user-details-role/{role}" id="b5c8426f-b14e-4c15-90ca-dfc2d204a670">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>role</con:name>
            <con:value>role</con:value>
            <con:style>TEMPLATE</con:style>
            <con:default>role</con:default>
          </con:parameter>
        </con:parameters>
        <con:method name="GET" id="ba9007f8-b6a0-402f-b03a-171674b99637" method="GET">
          <con:settings/>
          <con:parameters/>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>401</con:status>
            <con:params/>
            <con:element xmlns:role="http://praqa.ipm.ixxus.io/api/user-details-role/role">role:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element>Response</con:element>
          </con:representation>
          <con:request name="Users by role" id="32278632-77e4-4f77-baed-e34d308316fa" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/user-details-role/role</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:request>
        </con:method>
      </con:resource>
      <con:resource name="Submission Draf list" path="submission-draft" id="37563e83-b047-4f8d-8475-06a177a89986">
        <con:settings/>
        <con:parameters/>
        <con:resource name="Submission by ProcessId" path="{processId}" id="7c12dc39-662c-4b9e-bb13-0de2a2e730ce">
          <con:settings/>
          <con:parameters>
            <con:parameter>
              <con:name>processId</con:name>
              <con:value>processId</con:value>
              <con:style>TEMPLATE</con:style>
              <con:default>processId</con:default>
            </con:parameter>
            <con:parameter>
              <con:name>shortTitle</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>journal</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>areaOfResearch</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>funding</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>fundingOrganization</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>articleType</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>longTitle</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>id</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>firstName</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>lastName</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>email</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>institution</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>department</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>county</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
          </con:parameters>
          <con:resource name="Complete Submission" path="submitDraft" id="a76a6395-4fbc-47fe-9a11-7c5198c254b6">
            <con:settings/>
            <con:parameters/>
            <con:method name="POST" id="0b3785e0-f2c5-4604-880c-6f6b4cb73ec1" method="POST">
              <con:settings/>
              <con:parameters/>
              <con:representation type="RESPONSE">
                <con:mediaType>application/json;charset=UTF-8</con:mediaType>
                <con:status>200</con:status>
                <con:params/>
              </con:representation>
              <con:representation type="REQUEST">
                <con:mediaType>application/json</con:mediaType>
                <con:params/>
              </con:representation>
              <con:request name="Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
                <con:settings>
                  <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
                </con:settings>
                <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
                <con:request>{}</con:request>
                <con:credentials>
                  <con:authType>No Authorization</con:authType>
                </con:credentials>
                <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
                <con:jmsPropertyConfig/>
                <con:parameters>
                  <con:entry key="fundingOrganization" value=""/>
                  <con:entry key="lastName" value=""/>
                  <con:entry key="funding" value=""/>
                  <con:entry key="department" value=""/>
                  <con:entry key="areaOfResearch" value=""/>
                  <con:entry key="journal" value=""/>
                  <con:entry key="id" value=""/>
                  <con:entry key="county" value=""/>
                  <con:entry key="shortTitle" value=""/>
                  <con:entry key="email" value=""/>
                  <con:entry key="longTitle" value=""/>
                  <con:entry key="firstName" value=""/>
                  <con:entry key="articleType" value=""/>
                  <con:entry key="institution" value=""/>
                </con:parameters>
                <con:parameterOrder>
                  <con:entry>processId</con:entry>
                  <con:entry>shortTitle</con:entry>
                  <con:entry>journal</con:entry>
                  <con:entry>areaOfResearch</con:entry>
                  <con:entry>funding</con:entry>
                  <con:entry>fundingOrganization</con:entry>
                  <con:entry>articleType</con:entry>
                  <con:entry>longTitle</con:entry>
                  <con:entry>id</con:entry>
                  <con:entry>firstName</con:entry>
                  <con:entry>lastName</con:entry>
                  <con:entry>email</con:entry>
                  <con:entry>institution</con:entry>
                  <con:entry>department</con:entry>
                  <con:entry>county</con:entry>
                </con:parameterOrder>
              </con:request>
            </con:method>
          </con:resource>
          <con:method name="GET" id="f57c34a0-cdb7-45fc-be4f-eaac36b9607f" method="GET">
            <con:settings/>
            <con:parameters/>
            <con:representation type="FAULT">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>400</con:status>
              <con:params/>
              <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/submission-draft/22554">ns:Fault</con:element>
            </con:representation>
            <con:representation type="RESPONSE">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>200</con:status>
              <con:params/>
              <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/submission-draft/22554">ns:Response</con:element>
            </con:representation>
            <con:request name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
              <con:settings>
                <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              </con:settings>
              <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
              <con:request/>
              <con:credentials>
                <con:authType>No Authorization</con:authType>
              </con:credentials>
              <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
              <con:jmsPropertyConfig/>
              <con:parameters>
                <con:entry key="fundingOrganization" value=""/>
                <con:entry key="lastName" value=""/>
                <con:entry key="funding" value=""/>
                <con:entry key="department" value=""/>
                <con:entry key="areaOfResearch" value=""/>
                <con:entry key="journal" value=""/>
                <con:entry key="id" value=""/>
                <con:entry key="county" value=""/>
                <con:entry key="shortTitle" value=""/>
                <con:entry key="email" value=""/>
                <con:entry key="longTitle" value=""/>
                <con:entry key="firstName" value=""/>
                <con:entry key="articleType" value=""/>
                <con:entry key="institution" value=""/>
              </con:parameters>
              <con:parameterOrder>
                <con:entry>processId</con:entry>
                <con:entry>shortTitle</con:entry>
                <con:entry>journal</con:entry>
                <con:entry>areaOfResearch</con:entry>
                <con:entry>funding</con:entry>
                <con:entry>fundingOrganization</con:entry>
                <con:entry>articleType</con:entry>
                <con:entry>longTitle</con:entry>
                <con:entry>id</con:entry>
                <con:entry>firstName</con:entry>
                <con:entry>lastName</con:entry>
                <con:entry>email</con:entry>
                <con:entry>institution</con:entry>
                <con:entry>department</con:entry>
                <con:entry>county</con:entry>
              </con:parameterOrder>
            </con:request>
          </con:method>
          <con:method name="POST" id="f4f8279b-7a1f-4d1e-a59c-db5617c98d9f" method="POST">
            <con:settings/>
            <con:parameters/>
            <con:representation type="FAULT">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>400</con:status>
              <con:params/>
              <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/submission-draft/100">ns:Fault</con:element>
            </con:representation>
            <con:representation type="REQUEST">
              <con:mediaType>application/json</con:mediaType>
              <con:params/>
            </con:representation>
            <con:representation type="RESPONSE">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>200</con:status>
              <con:params/>
              <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/submission-draft/100">ns:Response</con:element>
            </con:representation>
            <con:request name="Update Submission details" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
              <con:settings>
                <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              </con:settings>
              <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
              <con:request>{
   "shortTitle": "${shortTitle}",
   "longTitle": "${longTitle}",
   "journal": "${journal}",
   "areaOfResearch": "${areaOfResearch}",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
    "submittingAuthor": {
    "id": "${id}",
    "firstName": "${firstName}",
    "lastName": "${lastName}",
    "email": "${email}",
     "affiliation":       {
         "id": 38,
         "organization": "${fundingOrganization}",
         "institution": "${institution}",
         "department": "${department}",
         "country": "Romania",
         "county": "${county}",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
}</con:request>
              <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/processId</con:originalUri>
              <con:credentials>
                <con:authType>No Authorization</con:authType>
              </con:credentials>
              <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
              <con:jmsPropertyConfig/>
              <con:parameters>
                <con:entry key="fundingOrganization" value="Ixxus"/>
                <con:entry key="funding" value="2017"/>
                <con:entry key="county" value="Cluj"/>
                <con:entry key="department" value="QA"/>
                <con:entry key="articleType" value="Review Article"/>
                <con:entry key="institution" value="Ixxus Office"/>
              </con:parameters>
              <con:parameterOrder>
                <con:entry>processId</con:entry>
                <con:entry>shortTitle</con:entry>
                <con:entry>longTitle</con:entry>
                <con:entry>journal</con:entry>
                <con:entry>areaOfResearch</con:entry>
                <con:entry>funding</con:entry>
                <con:entry>fundingOrganization</con:entry>
                <con:entry>articleType</con:entry>
                <con:entry>id</con:entry>
                <con:entry>firstName</con:entry>
                <con:entry>lastName</con:entry>
                <con:entry>email</con:entry>
                <con:entry>institution</con:entry>
                <con:entry>department</con:entry>
                <con:entry>county</con:entry>
              </con:parameterOrder>
            </con:request>
          </con:method>
        </con:resource>
        <con:resource name="Draft/Submitted submissions" path="" id="853454dc-a8fc-49f3-bea6-973dc6532b89">
          <con:settings/>
          <con:parameters>
            <con:parameter>
              <con:name>historic</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
              <con:description xsi:nil="true"/>
            </con:parameter>
          </con:parameters>
          <con:method name="GET" id="563f9728-4abb-45e1-a880-fad1ff886d00" method="GET">
            <con:settings/>
            <con:parameters/>
            <con:representation type="FAULT">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>500</con:status>
              <con:params/>
              <con:element xmlns:sub="http://praqa.ipm.ixxus.io/api/submission-draft">sub:Fault</con:element>
            </con:representation>
            <con:representation type="RESPONSE">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>200</con:status>
              <con:params/>
              <con:element>Response</con:element>
            </con:representation>
            <con:request name="Submitted/Draft submissions" id="dc9eca92-2ad1-4201-ba4f-ff7c2f1a2fbe" mediaType="application/json">
              <con:settings>
                <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              </con:settings>
              <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
              <con:request/>
              <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
              <con:credentials>
                <con:authType>No Authorization</con:authType>
              </con:credentials>
              <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
              <con:jmsPropertyConfig/>
              <con:parameters>
                <entry key="historic" value="true" xmlns="http://eviware.com/soapui/config"/>
              </con:parameters>
              <con:parameterOrder>
                <con:entry>historic</con:entry>
                <con:entry>filter</con:entry>
              </con:parameterOrder>
            </con:request>
          </con:method>
        </con:resource>
        <con:method name="POST" id="4631d94a-8be6-4090-8ce5-d3932d655294" method="POST">
          <con:settings/>
          <con:parameters/>
          <con:representation type="REQUEST">
            <con:mediaType>application/json</con:mediaType>
            <con:params/>
          </con:representation>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>401</con:status>
            <con:params/>
            <con:element xmlns:sub="http://praqa.ipm.ixxus.io/api/submission-draft">sub:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element xmlns:sub="http://praqa.ipm.ixxus.io/api/submission-draft">sub:Response</con:element>
          </con:representation>
          <con:request name="Generate Process Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:request>
        </con:method>
        <con:method name="GET" id="6b8a27da-075a-4102-befe-bf035e9b8f75" method="GET">
          <con:settings/>
          <con:parameters/>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>500</con:status>
            <con:params/>
            <con:element xmlns:sub="http://praqa.ipm.ixxus.io/api/submission-draft">sub:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element>Response</con:element>
          </con:representation>
          <con:request name="Get My Submissions list" id="318108f3-108c-40f0-957b-073c21fc2268" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:request>
        </con:method>
      </con:resource>
      <con:resource name="Upload Content" path="upload/{processId}" id="7df6d53c-1e86-4fb5-bebc-06bde6aeaef4">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>processId</con:name>
            <con:value>processId</con:value>
            <con:style>TEMPLATE</con:style>
            <con:default>processId</con:default>
          </con:parameter>
          <con:parameter>
            <con:name>file</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter>
            <con:name>title</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter>
            <con:name>description</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter>
            <con:name>abstract</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter>
            <con:name>authors</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter>
            <con:name>rights</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:method name="POST" id="3baf3e58-6945-4956-89a2-670a8fbf6b8e" method="POST">
          <con:settings/>
          <con:parameters/>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>500</con:status>
            <con:params/>
            <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/upload/2594">ns:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/upload/2594">ns:Response</con:element>
          </con:representation>
          <con:representation type="REQUEST">
            <con:mediaType>multipart/form-data</con:mediaType>
            <con:params/>
          </con:representation>
          <con:request name="Upload file" id="d2c753c4-5e92-4c95-90f5-51ad581eac4b" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>59ce917b-3175-4e72-a9bb-76ac1bc8e4cb</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="file" value="file:${projectDir}/Submission/text.html" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:request>
        </con:method>
      </con:resource>
      <con:resource name="Get Content of Abstract" path="content/{contentId}" id="70e3f48e-a0e1-4853-962d-29207c5071df">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>contentId</con:name>
            <con:value>contentId</con:value>
            <con:style>TEMPLATE</con:style>
            <con:default>contentId</con:default>
          </con:parameter>
        </con:parameters>
        <con:method name="GET" id="5bb2461d-0a61-472f-af76-655ccbc36ef8" method="GET">
          <con:settings/>
          <con:parameters/>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>401</con:status>
            <con:params/>
            <con:element xmlns:con1="http://praqa.ipm.ixxus.io/api/content/contentId">con1:Fault</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>text/html</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element>h2</con:element>
          </con:representation>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element>Response</con:element>
          </con:representation>
          <con:request name="Get Content of abstract" id="7b4f5e80-24e7-4604-bfe8-d07fe84cd316" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:request>
        </con:method>
      </con:resource>
      <con:resource name="Manage Submission" path="submission-manage" id="68a3adfa-704d-4ed1-bcac-68a82af9a5df">
        <con:settings/>
        <con:parameters>
          <con:parameter>
            <con:name>filter</con:name>
            <con:value>userId</con:value>
            <con:style>QUERY</con:style>
            <con:default>userId</con:default>
          </con:parameter>
          <con:parameter>
            <con:name>sort</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:default/>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:resource name="Get Manage Submission by ProcessId" path="{processId}" id="1d94ade9-11eb-4afb-b8da-ae837a4dc73f">
          <con:settings/>
          <con:parameters>
            <con:parameter>
              <con:name>processId</con:name>
              <con:value>processId</con:value>
              <con:style>TEMPLATE</con:style>
              <con:default>processId</con:default>
            </con:parameter>
          </con:parameters>
          <con:resource name="Claim Submission" path="claim/{userId}" id="fcd2cea7-0846-4dff-85aa-81ffa23f0059">
            <con:settings/>
            <con:parameters>
              <con:parameter>
                <con:name>userId</con:name>
                <con:value>userId</con:value>
                <con:style>TEMPLATE</con:style>
                <con:default>userId</con:default>
              </con:parameter>
            </con:parameters>
            <con:method name="PUT" id="e134aad2-a93c-4e17-bb70-e8ca77ff2ddf" method="PUT">
              <con:settings/>
              <con:parameters/>
              <con:representation type="FAULT">
                <con:mediaType>application/json;charset=UTF-8</con:mediaType>
                <con:status>400</con:status>
                <con:params/>
                <con:element xmlns:dana="http://praqa.ipm.ixxus.io/api/submission-manage/13647/claim/dana.marian%40ixxus.com">dana:Fault</con:element>
              </con:representation>
              <con:representation type="REQUEST">
                <con:mediaType>application/json</con:mediaType>
                <con:params/>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:representation type="RESPONSE">
                <con:mediaType xsi:nil="true"/>
                <con:status>200</con:status>
                <con:params/>
                <con:element>data</con:element>
              </con:representation>
              <con:request name="Claim Submission" id="4fcd6f8c-6533-4fd2-80f3-b83f49bbac7b" mediaType="application/json" postQueryString="false">
                <con:settings>
                  <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
                </con:settings>
                <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
                <con:request>{}</con:request>
                <con:credentials>
                  <con:authType>No Authorization</con:authType>
                </con:credentials>
                <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
                <con:jmsPropertyConfig/>
                <con:parameters>
                  <entry key="sort" value="" xmlns="http://eviware.com/soapui/config"/>
                </con:parameters>
                <con:parameterOrder>
                  <con:entry>userId</con:entry>
                  <con:entry>processId</con:entry>
                  <con:entry>filter</con:entry>
                  <con:entry>sort</con:entry>
                </con:parameterOrder>
              </con:request>
            </con:method>
          </con:resource>
          <con:method name="GET" id="c86d83b4-66db-4060-b622-b63303f29750" method="GET">
            <con:settings/>
            <con:parameters/>
            <con:representation type="RESPONSE">
              <con:mediaType>application/json;charset=UTF-8</con:mediaType>
              <con:status>200</con:status>
              <con:params/>
              <con:element xmlns:ns="http://praqa.ipm.ixxus.io/api/submission-manage/13647">ns:Response</con:element>
            </con:representation>
            <con:request name="GET Manage Submission by ProcessId" id="046411b5-acd5-4d1a-b815-4cef895a50e2" mediaType="application/json">
              <con:settings>
                <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              </con:settings>
              <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
              <con:request/>
              <con:credentials>
                <con:authType>No Authorization</con:authType>
              </con:credentials>
              <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
              <con:jmsPropertyConfig/>
              <con:parameters>
                <entry key="sort" value="" xmlns="http://eviware.com/soapui/config"/>
              </con:parameters>
              <con:parameterOrder>
                <con:entry>filter</con:entry>
                <con:entry>processId</con:entry>
                <con:entry>sort</con:entry>
              </con:parameterOrder>
            </con:request>
          </con:method>
        </con:resource>
        <con:resource name="GET Submission by Filter" path="" id="e8a6624c-1e3b-4ab6-b1b6-be9f8c29ac37">
          <con:settings/>
          <con:parameters>
            <con:parameter>
              <con:name>filter</con:name>
              <con:value>Title</con:value>
              <con:style>QUERY</con:style>
              <con:default>Title</con:default>
            </con:parameter>
          </con:parameters>
          <con:method name="GET" id="8e15bd0e-78aa-41cd-82a4-d8cc023eca09" method="GET">
            <con:settings/>
            <con:parameters/>
            <con:request name="GET Submission by Title" id="1ed5924b-3d31-400b-abec-d8da034ef6f1" mediaType="application/json">
              <con:settings>
                <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              </con:settings>
              <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
              <con:request/>
              <con:credentials>
                <con:authType>No Authorization</con:authType>
              </con:credentials>
              <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
              <con:jmsPropertyConfig/>
              <con:parameters>
                <entry key="sort" value="" xmlns="http://eviware.com/soapui/config"/>
              </con:parameters>
              <con:parameterOrder>
                <con:entry>filter</con:entry>
                <con:entry>sort</con:entry>
              </con:parameterOrder>
            </con:request>
          </con:method>
        </con:resource>
        <con:method name="GET" id="145ff862-f0e7-4b28-85d1-7ef467e5504c" method="GET">
          <con:settings/>
          <con:parameters/>
          <con:representation type="RESPONSE">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>200</con:status>
            <con:params/>
            <con:element>Response</con:element>
          </con:representation>
          <con:representation type="FAULT">
            <con:mediaType>application/json;charset=UTF-8</con:mediaType>
            <con:status>401</con:status>
            <con:params/>
            <con:element xmlns:sub="http://praqa.ipm.ixxus.io/api/submission-manage/">sub:Fault</con:element>
          </con:representation>
          <con:request name="Get Manage Submission" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:request>
        </con:method>
      </con:resource>
    </con:resource>
  </con:interface>
  <con:interface xsi:type="con:RestService" id="d76564e1-fcbe-412e-b362-50d7b849b111" wadlVersion="http://wadl.dev.java.net/2009/02" name="SubmissionReviewAccelerator" type="rest" definitionUrl="13774" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:settings/>
    <con:definitionCache/>
    <con:endpoints/>
  </con:interface>
  <con:testSuite id="ffb84568-d90d-422e-b8c6-238d6150a089" name="Login and set Global Auth Token">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="81c414a2-a1e2-4991-bbcf-1386e63cd591" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Login to SRA" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="POST - Login using {username} and {password}" id="196c0669-e15d-43b1-a06a-ceef9a761d97">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/auth" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST - Login using {username} and {password}" id="ecb81047-4eba-42b9-a11d-bfb889105f98" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
  "username": "${username}",
  "password": "${password}"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/auth</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="username" value="dana.marian@ixxus.com"/>
              <con:entry key="password" value="Marian123"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>username</con:entry>
              <con:entry>password</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Set Authentication Token Globally" id="de3aa02f-5b11-4042-84f5-457265c3fed2">
        <con:settings/>
        <con:config>
          <script>import groovy.json.JsonSlurper
def ResponseMessage = testRunner.testCase.testSteps['POST - Login using {username} and {password}'].testRequest.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

def token = jsonSlurper.token
com.eviware.soapui.model.propertyexpansion.PropertyExpansionUtils.globalProperties.setPropertyValue('Token',"$token")</script>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="816a9ef4-2368-48d9-ac65-6f628b199459" name="Get user details">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="fa41a66e-ef04-49b0-8a96-2e45f0aadf06" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get user details" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="GET - User details" id="baf8223a-35a1-4175-9f8f-84f523502555">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/user-details" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - User details" id="b28cf12b-b824-4ca3-b3cc-43b122635b92" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/user-details</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="51db688a-7aa6-4bb2-9360-e672234712f3" name="Get users based on role">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="58495cea-ae9b-4bb8-a1ee-f22bf7e4db9f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Get users having Reviewer role" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="GET - Users by Reviewer role" id="f7e8338e-f95d-4eb6-860a-01845bdc02cf">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/user-details-role/{role}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Users by Reviewer role" id="32278632-77e4-4f77-baed-e34d308316fa" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/user-details-role/role</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="c16f2dbb-17ed-4691-8ca6-7e3ce82be1d9" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="409d410c-96e2-4b5b-bf9c-0c59f305548e" name="Verify specific Reviewer user is returned">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.size > 1
assert jsonSlurper.email.contains("soapUI.reviewer@ixxus.com")
assert jsonSlurper.firstName.contains("SoapUI")
assert jsonSlurper.lastName.contains("Reviewer")</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="role" value="Reviewer" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:testCase id="be73e9be-b516-4ee1-b3d7-1436ea5946b9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Negative- Attempt to get users by inexisting role" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="GET - Users by inexisting role" id="8bdff388-b6b0-4ad3-bd92-ffdec367ccc8">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/user-details-role/{role}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Users by inexisting role" id="32278632-77e4-4f77-baed-e34d308316fa" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/user-details-role/role</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65f76018-163f-4bcb-87b4-48988c2b690f" name="Verify HTTP Status Code (400)">
              <con:configuration>
                <codes>404</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="f1d17575-e974-404b-9c66-adc1266a7eb9" name="Verify error message">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
assert jsonSlurper.error == ""</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="role" value="Reviewers" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="d2b35d8e-8b4e-4371-865e-c8427e095cbb" name="Add new submission and verify Draft/Submitted state">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="ffb5c2b2-2af7-49b4-8322-1f0fa7e778cc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generate Submission ID and verify Draft/Submitted submission is returned as expected" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Set random Short Title" id="03aa86b2-7520-4177-a45e-a9c590271a59">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.setPropertyValue("shortTitle","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="dae11ee8-f172-41ca-93ab-b78831c80ff9">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="200 Status Code">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="41f5de6d-36cc-483e-9a3c-f5f2a4d48940" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "DRAFT"
assert jsonSlurper.humanReadableId.contains("SR")</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET -Draft submissions" id="30a20964-991c-409e-af34-2e5dad839198">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET -Draft submissions" id="dc9eca92-2ad1-4201-ba4f-ff7c2f1a2fbe" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b3ec2923-6b1e-44bb-9cef-f93391ff8a30" name="Validate HTTP Stats Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="b4e7ac04-dd26-4598-896d-b1b7e04d6af9" name="Verify Expected Draft submission is returned">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
def expectedProcessId = context.testCase.getPropertyValue("processId")
log.info expectedProcessId
assert jsonSlurper.processId.contains(expectedProcessId)

for (i=0; i&lt;jsonSlurper.size(); i++){
	assert jsonSlurper[i].submissionState == "DRAFT"	
}</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="historic" value="false" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>historic</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="10924466-abc8-4fb9-a463-f649c4593c22">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="440c8d49-1aea-47b1-8073-7a69ef24d59b">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "shortTitle": "${shortTitle}",
   "longTitle": "${longTitle}",
   "journal": "${journal}",
   "areaOfResearch": "${areaOfResearch}",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
    "submittingAuthor": {
    "id": "${id}",
    "firstName": "${firstName}",
    "lastName": "${lastName}",
    "email": "${email}",
     "affiliation":       {
         "id": 38,
         "organization": "${fundingOrganization}",
         "institution": "${institution}",
         "department": "${department}",
         "country": "Romania",
         "county": "${county}",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/processId</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3f2e5fa9-757c-4b71-b233-e3a64becd008" name="Valid HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="49a73e4f-07f4-4bb1-bd03-ad663b24b21c" name="Verify information fields">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.shortTitle == context.testCase.getPropertyValue("shortTitle")
assert jsonSlurper.funding == "2017"
assert jsonSlurper.fundingOrganization == "Ixxus"
assert jsonSlurper.articleType == "Review Article"
assert jsonSlurper.submittingAuthor.affiliation.organization == "Ixxus"
assert jsonSlurper.submittingAuthor.affiliation.institution == "Ixxus Office"
assert jsonSlurper.submittingAuthor.affiliation.department == "QA"
assert jsonSlurper.submittingAuthor.affiliation.country == "Romania"
assert jsonSlurper.submittingAuthor.affiliation.county == "Cluj"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="county" value="Cluj"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="shortTitle" value="${#TestCase#shortTitle}"/>
              <con:entry key="department" value="QA"/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value="Ixxus Office"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="7b76a7fc-fccd-41b5-81ad-dc389f4e6ebe">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:part xsi:nil="true"/>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana Marian"/>
              <con:entry key="title" value="Tech"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="description" value="This is a description"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="6f4233d2-24c4-4a53-9128-f0e6cacfb9d2">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission after Complete the Submission" id="87e916f1-4bca-475d-8d30-7f950c826072">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission after Complete the Submission" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9037e533-1230-4831-bbc5-5790c8b064ac" name="Verfiy HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="8d634401-c65c-4367-9e7f-6ebc5dee366b" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "SUBMITTED"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - Submitted submissions" id="660833e5-5ccd-4edc-bf45-912ea276c896">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Submitted submissions" id="dc9eca92-2ad1-4201-ba4f-ff7c2f1a2fbe" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b3ec2923-6b1e-44bb-9cef-f93391ff8a30" name="Validate HTTP Stats Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="b4e7ac04-dd26-4598-896d-b1b7e04d6af9" name="Verify Expected Draft submission is returned">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
def expectedProcessId = context.testCase.getPropertyValue("processId")
log.info expectedProcessId
assert jsonSlurper.processId.contains(expectedProcessId)

for (i=0; i&lt;jsonSlurper.size(); i++){
	assert jsonSlurper[i].submissionState == "SUBMITTED"	
}</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="historic" value="true" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>historic</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>7649</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="20b65f01-3273-43fb-a5ab-eb79f3cad5d2" name="Convert Abstract to URL and check Abstract content">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="36a113af-7c18-485c-ad6f-8ada9ff622a8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generate Submission ID and verify Draft/Submitted submission is returned as expected" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Set a random ShortTitle" id="55149489-b158-4d8f-aa5a-e053ce9e08f5">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.setPropertyValue("shortTitle","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="9b5fd843-2757-4030-a865-77f1e417ade9">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="200 Status Code">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="41f5de6d-36cc-483e-9a3c-f5f2a4d48940" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "DRAFT"
assert jsonSlurper.humanReadableId.contains("SR")</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="c3467be8-6d51-499b-ade1-33a2b77e790b">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="84889ab0-dbe7-41ef-9214-aa95acc01658">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "areaOfResearch": "Tech",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
   "longTitle": "IT",
   "shortTitle": "${shortTitle}",
   "journal": "IT benefits",
    "submittingAuthor": {
    "id": "dana.marian@ixxus.com",
    "firstName": "Dana",
    "lastName": "Marian",
    "email": "dana.marian@ixxus.com",    
     "affiliation":       {
         "id": 38,
         "organization": "Ixxus",
         "institution": "Ixxus Office",
         "department": "QA",
         "country": "Romania",
         "county": "Cluj",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
   }</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="2d1b9a51-b53c-4189-b9f3-f6105c7358d8" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="a6f97d61-4655-448c-89a4-382add4d1e69" name="Verify information fields">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.shortTitle == context.testCase.getPropertyValue("shortTitle")
assert jsonSlurper.funding == "2017"
assert jsonSlurper.fundingOrganization == "Ixxus"
assert jsonSlurper.articleType == "Review Article"
assert jsonSlurper.submittingAuthor.affiliation.organization == "Ixxus"
assert jsonSlurper.submittingAuthor.affiliation.institution == "Ixxus Office"
assert jsonSlurper.submittingAuthor.affiliation.department == "QA"
assert jsonSlurper.submittingAuthor.affiliation.country == "Romania"
assert jsonSlurper.submittingAuthor.affiliation.county == "Cluj"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="shortTitle" value="${#TestCase#shortTitle}"/>
              <con:entry key="email" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="ca521ed8-5c49-4dbd-ab27-36dd4d32de95">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:part xsi:nil="true"/>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana Marian"/>
              <con:entry key="title" value="Tech"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="description" value="This is a description"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="7d4d374e-9083-4935-9002-d00ef213195f">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
	"abstractStr": "&lt;h2>Benefits of technology&lt;/h2>"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission after Complete the Submission" id="c4e63128-ce95-4862-a56a-21eaf3c6cb77">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission after Complete the Submission" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9037e533-1230-4831-bbc5-5790c8b064ac" name="Verfiy HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="8d634401-c65c-4367-9e7f-6ebc5dee366b" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "SUBMITTED"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="28800813-a4e9-47b2-adfc-612b336a331c" name="Script Assertion">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

def abs = jsonSlurper.abstractUrl.toString()
def extractInts = abs.findAll( /\d+/ )*.toInteger()
//def a = extractInts.setCharAt[1,2];
//log.info(a)
//context.testCase.setPropertyValue("abstractId", extractInts)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Content of abstract" id="dec3f407-f626-44fa-a411-22bfd34807d9">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/content/{contentId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Content of abstract" id="7b4f5e80-24e7-4604-bfe8-d07fe84cd316" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/content/59</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a017318f-4ab3-4adb-969d-fa9f6b52d105" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="b8dde56a-181f-4a2a-8d41-8fbe4eefb524" name="XPath Match" disabled="true">
              <con:configuration>
                <path>declare namespace sam='&lt;h2>Benefits of Health&lt;/h2>';</path>
                <content>&lt;h2>Benefits of Health&lt;/h2></content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="contentId" value="100" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>13501</con:value>
        </con:property>
        <con:property>
          <con:name>abstractId</con:name>
          <con:value>[85]</con:value>
        </con:property>
        <con:property>
          <con:name>shortTitle</con:name>
          <con:value>Is Rice Healthy?-4708</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="1f10052c-08ad-45d1-a965-d492a2a997bd" name="Search for Submitted Submissions">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="9ab99200-53b9-423d-a0aa-536c7209b2e6" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Search for Submission by name" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Set a random ShortTitle" id="821aa51f-0c97-4fde-8d03-ae844b3b8f70">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.setPropertyValue("shortTitle","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="8c5d271b-ca0c-4bcc-82e2-3b74c17e8c24">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="200 Status Code">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="41f5de6d-36cc-483e-9a3c-f5f2a4d48940" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "DRAFT"
assert jsonSlurper.humanReadableId.contains("SR")</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="ee621202-29da-4ebe-bf86-7bfd1dc8e270">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="shortTitle" value="${#TestCase#shortTitle}"/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="5a82f451-8ac8-4f67-8ac3-868195e0a8ab">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "shortTitle": "${shortTitle}",
   "longTitle": "${longTitle}",
   "journal": "${journal}",
   "areaOfResearch": "${areaOfResearch}",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
    "submittingAuthor": {
    "id": "${id}",
    "firstName": "${firstName}",
    "lastName": "${lastName}",
    "email": "${email}",
     "affiliation":       {
         "id": 38,
         "organization": "${fundingOrganization}",
         "institution": "${institution}",
         "department": "${department}",
         "country": "Romania",
         "county": "${county}",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/processId</con:originalUri>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="shortTitle" value="${#TestCase#shortTitle}"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="county" value="Cluj"/>
              <con:entry key="department" value="QA"/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value="Ixxus Office"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="8d1263be-61de-4aaf-90ce-91742bf137bc">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana, Ioana, Flaviu"/>
              <con:entry key="title" value="Exercise &amp; Nutrition"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="description" value="Rice (technically a seed) is a staple food"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="1f550d8a-c793-4a4e-ae04-f94cdfb9f638">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
	"abstractStr": "&lt;h2>Benefits of Health&lt;/h2>"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>7673</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="96d1fa1a-b12f-4860-8316-6e083629c840" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Negative: Attempt to search for submission by Journal" searchProperties="true">
      <con:settings/>
      <con:properties/>
    </con:testCase>
    <con:testCase id="ea5f066c-bc6b-4d71-a27f-d8c5e755c8f4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Negative: Attempt to search for submission by submitting author" searchProperties="true">
      <con:settings/>
      <con:properties/>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>longTitle</con:name>
        <con:value>Benefits of rice for health-7504</con:value>
      </con:property>
    </con:properties>
    <con:setupScript>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)
String longTitle = "Benefits of rice for health" + "-" + random1</con:setupScript>
  </con:testSuite>
  <con:testSuite id="eb5d1f22-d454-4b3e-9bb8-b5f72ac4ea2a" name="Claim Submission">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="a5d48658-d8a2-4d4a-8eec-839c30dcc308" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Generate Submission ID and verify Draft/Submitted submission is returned as expected" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Set a random ShortTitle" id="e7b35273-58d1-456f-988d-c9f42e76d363">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.setPropertyValue("shortTitle","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="ee98dee9-e2ac-4575-956f-eb1c9924e7e0">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="200 Status Code">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="41f5de6d-36cc-483e-9a3c-f5f2a4d48940" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "DRAFT"
assert jsonSlurper.humanReadableId.contains("SR")</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="64bc1b59-6c20-4fcc-a90b-a1906fe65794">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="a9c48fe6-7255-4577-83c9-98e7dd886e91">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "areaOfResearch": "Health",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
   "longTitle": "Benefits of rice for health",
   "shortTitle": "${shortTitle}",
   "journal": "Rice benefits",
    "submittingAuthor": {
    "id": "dana.marian@ixxus.com",
    "firstName": "Dana",
    "lastName": "Marian",
    "email": "dana.marian@ixxus.com",    
     "affiliation":       {
         "id": 38,
         "organization": "Ixxus",
         "institution": "Ixxus Office",
         "department": "QA",
         "country": "Romania",
         "county": "Cluj",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
   }</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="2d1b9a51-b53c-4189-b9f3-f6105c7358d8" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="a6f97d61-4655-448c-89a4-382add4d1e69" name="Verify information fields">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.shortTitle == context.testCase.getPropertyValue("shortTitle")
assert jsonSlurper.funding == "2017"
assert jsonSlurper.fundingOrganization == "Ixxus"
assert jsonSlurper.articleType == "Review Article"
assert jsonSlurper.submittingAuthor.affiliation.organization == "Ixxus"
assert jsonSlurper.submittingAuthor.affiliation.institution == "Ixxus Office"
assert jsonSlurper.submittingAuthor.affiliation.department == "QA"
assert jsonSlurper.submittingAuthor.affiliation.country == "Romania"
assert jsonSlurper.submittingAuthor.affiliation.county == "Cluj"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="efa93d06-d656-491b-8930-1986ab05cb81" name="Set Title of Submission">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("title", jsonSlurper.shortTitle.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="shortTitle" value="${#TestCase#shortTitle}"/>
              <con:entry key="email" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="5d5b6d63-9a36-4548-a8c4-c92e558b7654">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="f8209536-a8fd-4f1d-9f1c-7f93250b603d" name="Script Assertion">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("contentId", jsonSlurper.contentId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:part xsi:nil="true"/>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana, Ioana, Flaviu"/>
              <con:entry key="title" value="Exercise &amp; Nutrition"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="description" value="Rice (technically a seed) is a staple food"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="c40597e0-37da-4cd0-a11b-76195c932527">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
	"abstractStr": "&lt;h2>Benefits of Health&lt;/h2>"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission after Complete the Submission" id="d85dc62e-9295-4fdb-b0d0-cedc1afb8e27">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission after Complete the Submission" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9037e533-1230-4831-bbc5-5790c8b064ac" name="Verfiy HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="8d634401-c65c-4367-9e7f-6ebc5dee366b" name="Verify Submission State">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

assert jsonSlurper.submissionState == "SUBMITTED"</scriptText>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="28800813-a4e9-47b2-adfc-612b336a331c" name="Script Assertion">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())

def abs = jsonSlurper.abstractUrl.toString()
def extractInts = abs.findAll( /\d+/ )*.toInteger()
//def a = extractInts.setCharAt[1,2];
//log.info(a)
//context.testCase.setPropertyValue("abstractId", extractInts)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Content of abstract" id="49a6cdd6-af70-444e-b598-6a8872d839df">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/content/{contentId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Content of abstract" id="7b4f5e80-24e7-4604-bfe8-d07fe84cd316" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/content/59</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="a017318f-4ab3-4adb-969d-fa9f6b52d105" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="XPath Match" id="b8dde56a-181f-4a2a-8d41-8fbe4eefb524" name="XPath Match" disabled="true">
              <con:configuration>
                <path>declare namespace sam='&lt;h2>Benefits of Health&lt;/h2>';</path>
                <content>&lt;h2>Benefits of Health&lt;/h2></content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="contentId" value="59" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by Title" id="174e8901-d151-4f5c-af09-22f5c293cf33">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by Title" id="1ed5924b-3d31-400b-abec-d8da034ef6f1" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="0da2c106-8659-4b15-b999-70e14c458141" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="8e5eaee7-5499-41d5-85ee-da8fff70edea" name="Set new ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processIdNew", jsonSlurper[0].processId)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="sort" value=""/>
              <con:entry key="filter" value="${#TestCase#title}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="delay" name="Delay" id="489030cd-5e88-493c-9b6f-03950a3cc2c6">
        <con:settings/>
        <con:config>
          <delay>3000</delay>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Manage Submissions" id="98e47526-0407-461c-9852-43413e6798dc">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Manage Submissions" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="759aef3f-a737-4da4-a3a5-e8634c6ad5d0" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="ca6b74bd-1a6d-4e4e-97b2-9325657ba883" name="Script Assertion" disabled="true">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="sort" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Manage Submission by processId" id="72c03eb6-19a9-4036-97c3-88eccf300ec3">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Manage Submission by processId" id="046411b5-acd5-4d1a-b815-4cef895a50e2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/13647</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9da2deb5-b542-4bea-8e96-83fe217e434a" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="sort" value=""/>
              <con:entry key="processId" value="${#TestCase#processIdNew}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>processId</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT Claim Submission" id="28d778db-e93f-44dc-96e0-8014c1d653d5">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage/{processId}/claim/{userId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT Claim Submission" id="4fcd6f8c-6533-4fd2-80f3-b83f49bbac7b" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/13647/claim/dana.marian%40ixxus.com</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="26a85c29-8455-46fd-9bea-72de51c18ac1" name="Valid HTTP Status Codes">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="sort" value=""/>
              <con:entry key="processId" value="${#TestCase#processIdNew}"/>
              <con:entry key="userId" value="dana.marian@ixxus.com"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>userId</con:entry>
              <con:entry>processId</con:entry>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by new ProcessId" id="7a80fd6d-fe48-44ee-bd01-2f2450310a33">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by new ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Codes-200">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processIdNew}"/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>16196</con:value>
        </con:property>
        <con:property>
          <con:name>abstractId</con:name>
          <con:value>[85]</con:value>
        </con:property>
        <con:property>
          <con:name>shortTitle</con:name>
          <con:value>Is Rice Healthy?-0495</con:value>
        </con:property>
        <con:property>
          <con:name>contentId</con:name>
          <con:value>136</con:value>
        </con:property>
        <con:property>
          <con:name>title</con:name>
          <con:value>Is Rice Healthy?-0495</con:value>
        </con:property>
        <con:property>
          <con:name>processIdNew</con:name>
          <con:value>16222</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:properties/>
  </con:testSuite>
  <con:testSuite id="7a6a08b9-4433-4cd4-83a6-5a854813b43e" name="Verify Editor can see only unclaimed and claimed by himself submissions">
    <con:settings/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="73f01efa-6e95-4860-a219-a07243a64d9a" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Precondition: Create Submission using different user than the editor" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="POST - Login as an Author user" id="ca491920-85a7-49cb-9963-e501dfac03bb">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/auth" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST - Login as an Author user" id="ecb81047-4eba-42b9-a11d-bfb889105f98" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
  "username": "${username}",
  "password": "${password}"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/auth</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="223fcfca-f004-4cfd-8763-4e7644dedb36" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="4c98d6ca-98f5-4b67-9ac0-384e8c75ccdb" name="Set Author user token">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.testSuite.setPropertyValue("AuthToken", jsonSlurper.token)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="username" value="soapUI.author@ixxus.com"/>
              <con:entry key="password" value="SoapUI123"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>username</con:entry>
              <con:entry>password</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Set a random ShortTitle" id="368b35a8-7fa8-4280-b3df-14cca8156838">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.testSuite.setPropertyValue("shortTitle","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="849624fe-6534-4b8e-9035-a89e8c1f3a88">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="642eb27c-fe1c-4b42-9a70-a022054b24e3">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="shortTitle" value="${#TestSuite#shortTitle}"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="04030495-7b7c-42ad-bae7-f880750b551a">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "shortTitle": "${shortTitle}",
   "longTitle": "${longTitle}",
   "journal": "${journal}",
   "areaOfResearch": "${areaOfResearch}",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
    "submittingAuthor": {
    "id": "${id}",
    "firstName": "${firstName}",
    "lastName": "${lastName}",
    "email": "${email}",
     "affiliation":       {
         "id": 38,
         "organization": "${fundingOrganization}",
         "institution": "${institution}",
         "department": "${department}",
         "country": "Romania",
         "county": "${county}",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/processId</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65395f55-c352-4308-9bbf-ed5b1e730d45" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value="soapUI.author@ixxus.com"/>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="shortTitle" value="${#TestSuite#shortTitle}"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="county" value="Cluj"/>
              <con:entry key="department" value="QA"/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value="Ixxus Office"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="1292bfa5-36a4-45e0-8f28-bb5eb1f343b1">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:part xsi:nil="true"/>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana, Ioana, Flaviu"/>
              <con:entry key="title" value="Exercise &amp; Nutrition"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="description" value="Rice (technically a seed) is a staple food"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="d10006f5-3a30-47c0-a3dc-a5af82de1903">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
	"abstractStr": "&lt;h2>Benefits of Health&lt;/h2>"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>21845</con:value>
        </con:property>
        <con:property>
          <con:name>shortTitle</con:name>
          <con:value>Is Rice Healthy?-0432</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="2db62671-3917-4a5c-81ea-5994a4056875" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Precondition: Create Second Submission using editor user" searchProperties="true">
      <con:settings/>
      <con:testStep type="groovy" name="Set a random ShortTitle" id="a1b9b69a-c44a-4004-9ad5-6f88dec8e7cd">
        <con:settings/>
        <con:config>
          <script>String random1 = org.apache.commons.lang.RandomStringUtils.random(4, false, true)

context.testCase.testSuite.setPropertyValue("shortTitle1","Is Rice Healthy?" + "-" + random1)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Generate Submission Id" id="57993093-1aa0-4ee2-9343-342cc94df8a0">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Generate Submission Id" id="382ffb17-d0c8-4444-9488-b0cf91ab88a3" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="9e9c3799-a46a-4009-8a84-68815e749eaf" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="b84a7a4c-8490-4225-a0a7-a36c965881f3" name="Set ProcessID">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.setPropertyValue("processId", jsonSlurper.processId.toString())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET Submission by ProcessId" id="e070bdf2-f49e-4706-9ded-a3a87744e552">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET Submission by ProcessId" id="48ee19b7-3968-4db6-9a6b-9cb9329702c2" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/22554</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b1edb158-9614-481d-963a-4f108dcc2eba" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="shortTitle" value="${#TestSuite#shortTitle1}"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Update Submission" id="2381511d-3d35-44e9-9f6a-07aedd31b6a0">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Update Submission" id="51854bad-6b78-4158-89d3-0279913fe66f" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
   "shortTitle": "${shortTitle}",
   "longTitle": "${longTitle}",
   "journal": "${journal}",
   "areaOfResearch": "${areaOfResearch}",
   "funding": "${funding}",
   "fundingOrganization": "${fundingOrganization}",
   "articleType": "${articleType}",
    "submittingAuthor": {
    "id": "${id}",
    "firstName": "${firstName}",
    "lastName": "${lastName}",
    "email": "${email}",
     "affiliation":       {
         "id": 38,
         "organization": "${fundingOrganization}",
         "institution": "${institution}",
         "department": "${department}",
         "country": "Romania",
         "county": "${county}",
         "handler": {},
         "hibernateLazyInitializer": {}
      }
    }
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/processId</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65395f55-c352-4308-9bbf-ed5b1e730d45" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="id" value="soapUI.author@ixxus.com"/>
              <con:entry key="fundingOrganization" value="Ixxus"/>
              <con:entry key="funding" value="2017"/>
              <con:entry key="shortTitle" value="${#TestSuite#shortTitle1}"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="county" value="Cluj"/>
              <con:entry key="department" value="QA"/>
              <con:entry key="articleType" value="Review Article"/>
              <con:entry key="institution" value="Ixxus Office"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Upload File" id="332becc9-cafa-4568-b34f-4227d4a92f6f">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/upload/{processId}" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Upload File" id="0c77ebf9-4036-400a-9c0f-b37b6db6f962" mediaType="multipart/form-data" postQueryString="true">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
              <con:setting id="RecordRequestRepresentations">true</con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/upload/2594</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="595a8203-6f19-4e9f-a530-c7341db986fc" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:attachment>
              <con:name>text.html</con:name>
              <con:contentType>text/html</con:contentType>
              <con:contentId>text.html</con:contentId>
              <con:part xsi:nil="true"/>
              <con:url>${projectDir}/Submission/text.html</con:url>
              <con:id>301df096-9238-4bb9-b2b8-f26fe5e3968a</con:id>
            </con:attachment>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="abstract" value="White rice is considered a nutritionally inferior &quot;refined grain&quot; because its bran and germ are removed during the milling process, which strips away B vitamins, iron and fiber."/>
              <con:entry key="authors" value="Dana, Ioana, Flaviu"/>
              <con:entry key="title" value="Exercise &amp; Nutrition"/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="file" value="file:${projectDir}/Submission/text.html"/>
              <con:entry key="description" value="Rice (technically a seed) is a staple food"/>
              <con:entry key="rights" value="Copyright"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>file</con:entry>
              <con:entry>title</con:entry>
              <con:entry>description</con:entry>
              <con:entry>abstract</con:entry>
              <con:entry>authors</con:entry>
              <con:entry>rights</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="POST Complete Submission" id="4cb23db7-ccfd-41f7-8291-badf60f5c7e7">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-draft/{processId}/submitDraft" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="POST Complete Submission" id="d03b4abb-9c1a-4641-86e9-4ff23b134bcd" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#AuthToken}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
	"abstractStr": "&lt;h2>Benefits of Health&lt;/h2>"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-draft/100/submitDraft</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="57710201-da38-4dfa-91b5-c73eac464dab" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="fundingOrganization" value=""/>
              <con:entry key="lastName" value=""/>
              <con:entry key="funding" value=""/>
              <con:entry key="processId" value="${#TestCase#processId}"/>
              <con:entry key="department" value=""/>
              <con:entry key="areaOfResearch" value=""/>
              <con:entry key="journal" value=""/>
              <con:entry key="id" value=""/>
              <con:entry key="county" value=""/>
              <con:entry key="email" value=""/>
              <con:entry key="shortTitle" value=""/>
              <con:entry key="longTitle" value=""/>
              <con:entry key="firstName" value=""/>
              <con:entry key="articleType" value=""/>
              <con:entry key="institution" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>processId</con:entry>
              <con:entry>shortTitle</con:entry>
              <con:entry>journal</con:entry>
              <con:entry>areaOfResearch</con:entry>
              <con:entry>funding</con:entry>
              <con:entry>fundingOrganization</con:entry>
              <con:entry>articleType</con:entry>
              <con:entry>longTitle</con:entry>
              <con:entry>id</con:entry>
              <con:entry>firstName</con:entry>
              <con:entry>lastName</con:entry>
              <con:entry>email</con:entry>
              <con:entry>institution</con:entry>
              <con:entry>department</con:entry>
              <con:entry>county</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>processId</con:name>
          <con:value>17350</con:value>
        </con:property>
        <con:property>
          <con:name>shortTitle</con:name>
          <con:value>Is Rice Healthy?-0432</con:value>
        </con:property>
      </con:properties>
    </con:testCase>
    <con:testCase id="b502c91a-5193-4c52-b091-8c5a43ef40c0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GET- unclaimed and claimed submissions" searchProperties="true">
      <con:settings/>
      <con:testStep type="restrequest" name="POST - Login as an Editor user" id="c2ba6d0f-242a-40a9-835b-db13ac3d451b">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/auth" methodName="POST" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Copy of POST - Login as an Author user" id="ecb81047-4eba-42b9-a11d-bfb889105f98" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{
  "username": "${username}",
  "password": "${password}"
}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/auth</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="223fcfca-f004-4cfd-8763-4e7644dedb36" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="4c98d6ca-98f5-4b67-9ac0-384e8c75ccdb" name="Set Author user token">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.testSuite.setPropertyValue("AuthToken", jsonSlurper.token)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="username" value="soapUI.editor@ixxus.com"/>
              <con:entry key="password" value="SoapUI123"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>username</con:entry>
              <con:entry>password</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - Verify Editor user can see both submissions created in Preconditions 1" id="7f0c2c18-0cd9-45c3-ab9a-c0cfb618e880">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Verify Editor user can see both submissions created in Preconditions 1" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65cf2edf-4f32-4dde-9429-3337ec4de5b4" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="2832a5a9-4b71-4405-a9e0-3bfa1e61eb70" name="Verify both submissions are returned in the Json Response">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
def shortTitle = context.testCase.testSuite.getPropertyValue("shortTitle")
def shortTitle1 = context.testCase.testSuite.getPropertyValue("shortTitle1")
log.info shortTitle
assert jsonSlurper.shortTitle.contains(shortTitle)
assert jsonSlurper.shortTitle.contains(shortTitle1)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - Second Submission and Set ProcessId" id="f01473e0-f2bf-4a71-b509-707e3c379265">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Second Submission and Set ProcessId" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65cf2edf-4f32-4dde-9429-3337ec4de5b4" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="2832a5a9-4b71-4405-a9e0-3bfa1e61eb70" name="Set ProcessId">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.testSuite.setPropertyValue("processIdS2", jsonSlurper[0].processId)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="${#TestSuite#shortTitle1}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT- Claim second submission using different user" id="746bf0e4-f08a-4926-91d6-5622c2cafbcf">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage/{processId}/claim/{userId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT- Claim second submission using different user" id="4fcd6f8c-6533-4fd2-80f3-b83f49bbac7b" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/processId/claim/userId</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b7fbdd73-986b-4217-a997-6b28211c49f2" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="sort" value=""/>
              <con:entry key="processId" value="${#TestSuite#processIdS2}"/>
              <con:entry key="userId" value="dana.marian@ixxus.com"/>
              <con:entry key="filter" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>userId</con:entry>
              <con:entry>processId</con:entry>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - Verify Editor user cannot see the submission claimed by other user" id="b87bf2f9-c839-456c-b479-8738c2ff5183">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Verify Editor user cannot see the submission claimed by other user" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65cf2edf-4f32-4dde-9429-3337ec4de5b4" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="2832a5a9-4b71-4405-a9e0-3bfa1e61eb70" name="Verify Second Submission is no longer returned in the Json response">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert (jsonSlurper.isEmpty())</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="${#TestSuite#shortTitle1}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - First Submission and Set ProcessId" id="6ab7b02e-1346-4df8-9824-ba8beb238442">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - First Submission and Set ProcessId" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65cf2edf-4f32-4dde-9429-3337ec4de5b4" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="2832a5a9-4b71-4405-a9e0-3bfa1e61eb70" name="Set ProcessId">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
context.testCase.testSuite.setPropertyValue("processIdS1", jsonSlurper[0].processId)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="${#TestSuite#shortTitle}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="PUT- Claim first submission using logged in editor user" id="8304933e-9b5d-41a3-9e58-ed4c16c1c7e7">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage/{processId}/claim/{userId}" methodName="PUT" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="PUT- Claim first submission using logged in editor user" id="4fcd6f8c-6533-4fd2-80f3-b83f49bbac7b" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request>{}</con:request>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/processId/claim/userId</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b7fbdd73-986b-4217-a997-6b28211c49f2" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <con:entry key="sort" value=""/>
              <con:entry key="processId" value="${#TestSuite#processIdS1}"/>
              <con:entry key="userId" value="soapUI.editor@ixxus.com"/>
              <con:entry key="filter" value=""/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>userId</con:entry>
              <con:entry>processId</con:entry>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="GET - Verify Editor user can see the submission claimed by himself" id="a864673e-7389-41c6-8632-39a18c70b8aa">
        <con:settings/>
        <con:config service="http://praqa.ipm.ixxus.io" resourcePath="/api/submission-manage" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="GET - Verify Editor user can see the submission claimed by himself" id="14d8f676-48fe-44b4-a801-04a1fa56d5d8" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;entry key="Authorization" value="${#TestSuite#Token}" xmlns="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://praqa.ipm.ixxus.io</con:endpoint>
            <con:request/>
            <con:originalUri>http://praqa.ipm.ixxus.io/api/submission-manage/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="65cf2edf-4f32-4dde-9429-3337ec4de5b4" name="Verify HTTP Status Code (200)">
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="2832a5a9-4b71-4405-a9e0-3bfa1e61eb70" name="Verify First Submission is returned in the Json response">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper
def ResponseMessage = messageExchange.response.responseContent
def jsonSlurper = new JsonSlurper().parseText(ResponseMessage)

assert !(jsonSlurper.isEmpty())
def shortTitle = context.testCase.testSuite.getPropertyValue("shortTitle")
assert jsonSlurper[0].shortTitle == shortTitle
assert jsonSlurper.size() == 1</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:jmsPropertyConfig/>
            <con:parameters>
              <entry key="filter" value="${#TestSuite#shortTitle}" xmlns="http://eviware.com/soapui/config"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>filter</con:entry>
              <con:entry>sort</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
    </con:testCase>
    <con:properties>
      <con:property>
        <con:name>Token</con:name>
        <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzb2FwVUkuZWRpdG9yQGl4eHVzLmNvbSIsImF1ZCI6IndlYiIsImNyZWF0ZWQiOjE0ODkxNTU4NjQ1NDUsImV4cCI6MTQ4OTc2MDY2NH0.Dt9mzl6HyHTx1qJ5VZSe5hPv-cTMxzWh2AuPrckXatdoWJZNiQsS_BOAT0OP7hMFN5XwGrZXbGKFknU3jkFVsA</con:value>
      </con:property>
      <con:property>
        <con:name>shortTitle</con:name>
        <con:value>Is Rice Healthy?-7190</con:value>
      </con:property>
      <con:property>
        <con:name>shortTitle1</con:name>
        <con:value>Is Rice Healthy?-2952</con:value>
      </con:property>
      <con:property>
        <con:name>processIdS2</con:name>
        <con:value>17376</con:value>
      </con:property>
      <con:property>
        <con:name>processIdS1</con:name>
        <con:value>17249</con:value>
      </con:property>
      <con:property>
        <con:name>AuthToken</con:name>
        <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJzb2FwVUkuYXV0aG9yQGl4eHVzLmNvbSIsImF1ZCI6IndlYiIsImNyZWF0ZWQiOjE0ODk0MDEyOTc5ODYsImV4cCI6MTQ5MDAwNjA5N30.m_96errsqT0HRHq8rIzZFk3w7mDgy7csoj2vU9R5NkWMSKIEoptbUEcWiexJ15NmUBBigKdwxwEhV7qrtufMYA</con:value>
      </con:property>
    </con:properties>
  </con:testSuite>
  <con:properties/>
  <con:wssContainer/>
  <con:oAuth2ProfileContainer/>
  <con:oAuth1ProfileContainer/>
  <con:sensitiveInformation/>
</con:soapui-project>